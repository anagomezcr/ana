function split(str)
{
  print("str.length()=" + str.length());

  lines = [];
  buffer = "";

  for(i = 0; i < str.length(); i++)
  {
    if(str[i] == '\n')
    {
      lines.push(buffer);
      buffer = '';
      continue;
    }    
  
    print("i is now " + i);

    // TODO, these AND expressions need to be dynamic, in that the right hand
    // side is only executed if the left side is true
    // If left is false, jump to past the end of the block
    //
    if (str[i] == '\r' && (i + i < str.length() && str[i + 1] == '\n'))
    {
      print(i);
    }

    buffer = buffer + str[i];
  }

  return lines;
}


print(
  split("Hey\nHi\nWhat's up?\nNot much, you?\n\r")
);
